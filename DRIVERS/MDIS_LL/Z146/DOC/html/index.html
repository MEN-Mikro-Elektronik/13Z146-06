<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Z146 MDIS Driver Package - Main Page</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Z146 MDIS Driver Package &nbsp; </h1>
	<h3>Main Page</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>Z146 MDIS Driver Package Documentation</h1>
<p>
The Z146 MDIS Driver Package contains:<br>
<ul>
<li>ARINC429 RX drivers for the 16Z146_ARINC429 IP core<br>
</li><li>ARINC429 TX drivers for the 16Z246_ARINC429 IP core<br>
</li></ul>
<p>
<br>
 The RX and TX IP core channels can be used independently using RX and TX instances of the driver. Each instance of the RX and TX can be configured independently.<p>
<br>
 The drivers provide following possibilities to configure ARINC 429 frames:<ul>
<li>Transmit/Receive Speed; 12.5kHz or 100kHz</li><li>Transmit/Receive parity enable/disable.</li><li>Transmit/Receive parity type; odd parity or even parity</li><li>Transmit/Receive Source/Destination Identifier enable/disable</li><li>Transmit/Receive Source/Destination Identifier</li><li>Transmit/Receive label set/reset</li></ul>
<p>
<br>
 <h2><a name="Variants"></a>
Variants</h2>
<ul>
<li>rx : ARINC429 RX driver</li><li>tx : ARINC429 TX driver</li></ul>
<p>
<br>
 <h2><a name="RxFuncDesc"></a>
=== RX Driver Functional Description ===</h2>
<br>
 <h3><a name="RxGeneral"></a>
General</h3>
The receive driver can be configured and used independently. The configuration of the receive driver must be same as the transmitter of the other end, in order to work the communication. The default configuration of the receive driver is compatible to the transmit driver. Any change in the receive driver is supposed to be taken into consideration for the transmit driver in order to avoid failure of the communication.<p>
<br>
 <h3><a name="RxRead"></a>
Receiving Data</h3>
The M_getblock() reads data from the driver. The data can be received using interrupt or polling mode. If interrupt is enabled, the driver receives the data and store it in an internal buffer. When data is received, a signal is generated by the driver which was assigned using M_setstat() <a class="el" href="z146__drv_8h.html#a1">Z146_SET_SIGNAL</a> to the application. The internal buffer to store the received data is limited to the 4096 words.<p>
If the interrupt is disabled, the data can be received directly from the device without any internal buffer. For the polling mode the driver does not generate a signal. To check whether there is data available, the user needs to read the interface with M_getblock().<p>
<br>
 <h3><a name="RxInterrupts"></a>
Interrupt and Signal</h3>
If an interrupt is enabled the driver will send the signal which was assigned using M_setstat() <a class="el" href="z146__drv_8h.html#a1">Z146_SET_SIGNAL</a> to the application when data is received. The signal can be uninstalled using <a class="el" href="z146__drv_8h.html#a2">Z146_CLR_SIGNAL</a>.<p>
<br>
 <h3><a name="RxSetget"></a>
Driver Configuration</h3>
The driver can be configured using M_setstat(), using following options:<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a6">Z146_RX_SPEED</a><br>
 0 = low speed: sending at 12.5 kHz<br>
 1 = high speed: sending at 100 kHz<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a8">Z146_PAR_EN</a><br>
 0 = Bit 32 in receive frame is used as regular data<br>
 1 = Bit 32 in receive frame is used as parity bit<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a9">Z146_PAR_TYP</a><br>
 0 = odd parity<br>
 1 = even parity<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a11">Z146_SDI_EN</a><br>
 0 = Bit 9 and bit 10 in the receive frame are regular data<br>
 1 = The TX_SDI shall replace bit 9 and bit 10 in the receive frame<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a12">Z146_SDI</a><br>
 0 = Replace bit 9 in ARINC 429 frame when enabled<br>
 1 = Replace bit 10 in ARINC 429 frame when enabled<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a14">Z146_RX_SET_LABEL</a><br>
 0x00 ... 0xFF<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z146__drv_8h.html#a15">Z146_RX_RESET_LABEL</a><br>
 0x00 ... 0xFF<br>
</li></ul>
<p>
<br>
 <h3><a name="RxDefault"></a>
Default values</h3>
M_open() and M_close() configures the Receive driver as follows:<p>
<ul>
<li>Receive Speed: 100kHz</li><li>Receive parity: Enabled</li><li>Receive parity type: odd parity</li><li>Receive Source/Destination Identifier: disable</li><li>Receive Source/Destination Identifier: N.A.</li><li>Receive label: 0</li><li>Receive interrupt: Enabled</li></ul>
<p>
<br>
 <h2><a name="RxApi_functions"></a>
Supported API Functions of the Receive Driver</h2>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>API function</b> </td><td><b>Functionality</b> </td><td><b>Corresponding low level function</b><p>
</td></tr>
<tr>
<td>M_open()</td><td>Open device</td><td><a class="el" href="z146__drv_8c.html#a60">Z146_Init()</a><p>
</td></tr>
<tr>
<td>M_close() </td><td>Close device  </td><td><a class="el" href="z146__drv_8c.html#a61">Z146_Exit()</a>) </td></tr>
<tr>
<td>M_getblock() </td><td>Block read from device  </td><td><a class="el" href="z146__drv_8c.html#a66">Z146_BlockRead()</a><p>
</td></tr>
<tr>
<td>M_setstat() </td><td>Set device parameter  </td><td><a class="el" href="z146__drv_8c.html#a64">Z146_SetStat()</a> </td></tr>
<tr>
<td>M_getstat() </td><td>Get device parameter  </td><td><a class="el" href="z146__drv_8c.html#a65">Z146_GetStat()</a><p>
</td></tr>
</table>
<p>
<br>
 <h2><a name="RxDescriptor_entries"></a>
Descriptor Entries</h2>
(no descriptor entries supported)<p>
<br>
 <h2><a name="RxCodes"></a>
Driver specific Getstat/Setstat codes</h2>
see <a class="el" href="z146__drv_8h.html#rx_getstat_setstat_codes">section about Getstat/Setstat codes</a><p>
<br>
 <h2><a name="TxFuncDesc"></a>
=== TX Driver Functional Description ===</h2>
<br>
 <h3><a name="TxGeneral"></a>
General</h3>
The transmit driver can be configured and used independently. The configuration of the transmit driver must be same as the receiver of the other end, in order to work the communication. The default configuration of the transmit driver is compatible to the receive driver. Any change in the transmit driver suppose to be taken into consideration for the receive driver in order to avoid failure of the communication.<p>
<br>
 <h3><a name="TxWrite"></a>
Transmitting Data</h3>
The M_setblock() writes data from the user provided buffer to the device. The user can write a maximum of 4096 words at a time. The fifo size for the transmit is limited to 255 words. Therefore, whenever the user data is more than 255 words, the interrupt routine is used to transmit data.<p>
<br>
 <h3><a name="TxInterrupts"></a>
Interrupt and Signal</h3>
A signal is generated by the driver, which was assigned using M_setstat() <a class="el" href="z246__drv_8h.html#a0">Z246_SET_SIGNAL</a> to the application, when a transmission request is completed. As the internal ram fifo size is limited, the user data will be stored internally and transmitted using interrupts. The signal can be uninstalled using <a class="el" href="z246__drv_8h.html#a1">Z246_CLR_SIGNAL</a>.<p>
<br>
 <h3><a name="TxSetget"></a>
Driver Configuration</h3>
The driver can be configured using M_setstat(), using following options:<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a4">Z246_TX_SPEED</a><br>
 0 = low speed: sending at 12.5 kHz<br>
 1 = high speed: sending at 100 kHz<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a5">Z246_PAR_EN</a><br>
 0 = Bit 32 in transmit frame is used as regular data<br>
 1 = Bit 32 in transmit frame is used as parity bit<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a6">Z246_PAR_TYPE</a><br>
 0 = odd parity<br>
 1 = even parity<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a7">Z246_SDI_EN</a><br>
 0 = Bit 9 and bit 10 in the transmit frame are regular data<br>
 1 = The TX_SDI shall replace bit 9 and bit 10 in the transmit frame<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a8">Z246_SDI</a><br>
 0 = Replace bit 9 in ARINC 429 frame when enabled<br>
 1 = Replace bit 10 in ARINC 429 frame when enabled<br>
</li></ul>
<p>
<ul>
<li><a class="el" href="z246__drv_8h.html#a10">Z246_TX_LABEL</a><br>
 0x00 ... 0xFF<br>
</li></ul>
<p>
<br>
 <h3><a name="TxDefault"></a>
Default values</h3>
M_open() and M_close() configures the transmit driver as follows:<p>
<ul>
<li>Transmit Speed: 100kHz</li><li>Transmit parity: Enabled</li><li>Transmit parity type: odd parity</li><li>Transmit Source/Destination Identifier: disable</li><li>Transmit Source/Destination Identifier: N.A.</li><li>Transmit label: 0</li></ul>
<p>
<br>
 <h2><a name="TxApi_functions"></a>
Supported API Functions of the Transmit Driver</h2>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>API function</b> </td><td><b>Functionality</b> </td><td><b>Corresponding low level function</b><p>
</td></tr>
<tr>
<td>M_open()</td><td>Open device</td><td><a class="el" href="z246__drv_8c.html#a45">Z246_Init()</a><p>
</td></tr>
<tr>
<td>M_close() </td><td>Close device  </td><td><a class="el" href="z246__drv_8c.html#a46">Z246_Exit()</a>) </td></tr>
<tr>
<td>M_setblock() </td><td>Block write from device  </td><td><a class="el" href="z246__drv_8c.html#a52">Z246_BlockWrite()</a> </td></tr>
<tr>
<td>M_setstat() </td><td>Set device parameter  </td><td><a class="el" href="z246__drv_8c.html#a49">Z246_SetStat()</a> </td></tr>
<tr>
<td>M_getstat() </td><td>Get device parameter  </td><td><a class="el" href="z246__drv_8c.html#a50">Z246_GetStat()</a><p>
</td></tr>
</table>
<p>
<br>
 <h2><a name="TxDescriptor_entries"></a>
Descriptor Entries</h2>
(no descriptor entries supported)<p>
<br>
 <h2><a name="TxCodes"></a>
Driver specific Getstat/Setstat codes</h2>
see <a class="el" href="z246__drv_8h.html#tx_getstat_setstat_codes">section about Getstat/Setstat codes</a><p>
<br>
 <h2><a name="Documents"></a>
Overview of all Documents</h2>
<h3><a name="z146_example"></a>
Simple example for using the driver</h3>
z146_example.c (see example section)
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Z146 MDIS Driver Package using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2017 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

